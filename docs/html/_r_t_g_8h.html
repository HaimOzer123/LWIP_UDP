<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LWip UDP UUT system for STM32F756zg by Haim Ozer: RTG/Inc/RTG.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">LWip UDP UUT system for STM32F756zg by Haim Ozer
   </div>
   <div id="projectbrief">A system for executing hardware tests via UDP communication.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_3af78114e64d7db804a28dbfc19dde94.html">RTG</a></li><li class="navelem"><a class="el" href="dir_fcdc9742a3ebc3566431fa046902ec20.html">Inc</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">RTG.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Header file for the Real-Time Gateway (RTG) system.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;main.h&quot;</code><br />
<code>#include &quot;inet.h&quot;</code><br />
<code>#include &quot;lwip.h&quot;</code><br />
<code>#include &quot;stm32f7xx_hal.h&quot;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &quot;<a class="el" href="_protocol_8h_source.html">Protocol.h</a>&quot;</code><br />
</div>
<p><a href="_r_t_g_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ab4669ce3240dc839b04fd805358ee0fa" id="r_ab4669ce3240dc839b04fd805358ee0fa"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab4669ce3240dc839b04fd805358ee0fa">UART_DEBUG</a>&#160;&#160;&#160;&amp;<a class="el" href="_i2_c__test_8h.html#ab7c63c1b0f65db92b6a4ea19edf957e1">huart3</a></td></tr>
<tr class="separator:ab4669ce3240dc839b04fd805358ee0fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac42367fe5c999ec6650de83e9d72fe8c" id="r_ac42367fe5c999ec6650de83e9d72fe8c"><td class="memItemLeft" align="right" valign="top"><a id="ac42367fe5c999ec6650de83e9d72fe8c" name="ac42367fe5c999ec6650de83e9d72fe8c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SERVER_PORT</b>&#160;&#160;&#160;50007</td></tr>
<tr class="memdesc:ac42367fe5c999ec6650de83e9d72fe8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">UDP server port number. <br /></td></tr>
<tr class="separator:ac42367fe5c999ec6650de83e9d72fe8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2d7c453a56cda25cf1f888b361dca18" id="r_ac2d7c453a56cda25cf1f888b361dca18"><td class="memItemLeft" align="right" valign="top"><a id="ac2d7c453a56cda25cf1f888b361dca18" name="ac2d7c453a56cda25cf1f888b361dca18"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>END_OF_STRING</b>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:ac2d7c453a56cda25cf1f888b361dca18"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constants for special characters. <br /></td></tr>
<tr class="separator:ac2d7c453a56cda25cf1f888b361dca18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a629568514359445d2fbda71d70eeb1ce" id="r_a629568514359445d2fbda71d70eeb1ce"><td class="memItemLeft" align="right" valign="top"><a id="a629568514359445d2fbda71d70eeb1ce" name="a629568514359445d2fbda71d70eeb1ce"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>BACKSPACE</b>&#160;&#160;&#160;8</td></tr>
<tr class="separator:a629568514359445d2fbda71d70eeb1ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c2cad5489953de23c5733e6e696a93e" id="r_a3c2cad5489953de23c5733e6e696a93e"><td class="memItemLeft" align="right" valign="top"><a id="a3c2cad5489953de23c5733e6e696a93e" name="a3c2cad5489953de23c5733e6e696a93e"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>LINE_FEED</b>&#160;&#160;&#160;10</td></tr>
<tr class="separator:a3c2cad5489953de23c5733e6e696a93e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b81478c7058ceb6ed610ce8e2ca3822" id="r_a3b81478c7058ceb6ed610ce8e2ca3822"><td class="memItemLeft" align="right" valign="top"><a id="a3b81478c7058ceb6ed610ce8e2ca3822" name="a3b81478c7058ceb6ed610ce8e2ca3822"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CARRIAGE_RETURN</b>&#160;&#160;&#160;13</td></tr>
<tr class="separator:a3b81478c7058ceb6ed610ce8e2ca3822"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaccf16bc2fc3e3fc0a1e4a0a55219295" id="r_aaccf16bc2fc3e3fc0a1e4a0a55219295"><td class="memItemLeft" align="right" valign="top"><a id="aaccf16bc2fc3e3fc0a1e4a0a55219295" name="aaccf16bc2fc3e3fc0a1e4a0a55219295"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MAX_BUF_LEN</b>&#160;&#160;&#160;100</td></tr>
<tr class="memdesc:aaccf16bc2fc3e3fc0a1e4a0a55219295"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum length of the incoming packet buffer. <br /></td></tr>
<tr class="separator:aaccf16bc2fc3e3fc0a1e4a0a55219295"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aed08e9a62dc6fb42b350f341dd322e11" id="r_aed08e9a62dc6fb42b350f341dd322e11"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aed08e9a62dc6fb42b350f341dd322e11">rtg_main</a> (void)</td></tr>
<tr class="memdesc:aed08e9a62dc6fb42b350f341dd322e11"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main function for the RTG program.  <br /></td></tr>
<tr class="separator:aed08e9a62dc6fb42b350f341dd322e11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78047c519037c4c6091c71e1801519c7" id="r_a78047c519037c4c6091c71e1801519c7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a78047c519037c4c6091c71e1801519c7">udpServer_init</a> (void)</td></tr>
<tr class="memdesc:a78047c519037c4c6091c71e1801519c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the UDP server.  <br /></td></tr>
<tr class="separator:a78047c519037c4c6091c71e1801519c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d26559743e59e4b409c92a268ee67fc" id="r_a8d26559743e59e4b409c92a268ee67fc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8d26559743e59e4b409c92a268ee67fc">udp_disconnect</a> (struct udp_pcb *pcb)</td></tr>
<tr class="memdesc:a8d26559743e59e4b409c92a268ee67fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disconnect the UDP server.  <br /></td></tr>
<tr class="separator:a8d26559743e59e4b409c92a268ee67fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4546c43981f043c0ae4514d625cc3fc" id="r_aa4546c43981f043c0ae4514d625cc3fc"><td class="memItemLeft" align="right" valign="top">err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa4546c43981f043c0ae4514d625cc3fc">udp_send</a> (struct udp_pcb *pcb, struct pbuf *p)</td></tr>
<tr class="memdesc:aa4546c43981f043c0ae4514d625cc3fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a UDP packet.  <br /></td></tr>
<tr class="separator:aa4546c43981f043c0ae4514d625cc3fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83625967670477aa254643129a53971b" id="r_a83625967670477aa254643129a53971b"><td class="memItemLeft" align="right" valign="top">err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a83625967670477aa254643129a53971b">udp_connect</a> (struct udp_pcb *pcb, const ip_addr_t *ipaddr, u16_t port)</td></tr>
<tr class="memdesc:a83625967670477aa254643129a53971b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connect to a remote host via UDP.  <br /></td></tr>
<tr class="separator:a83625967670477aa254643129a53971b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0601b0c0a2471fd7b6cfa217cc6c1eb7" id="r_a0601b0c0a2471fd7b6cfa217cc6c1eb7"><td class="memItemLeft" align="right" valign="top">struct udp_pcb *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0601b0c0a2471fd7b6cfa217cc6c1eb7">udp_new</a> (void)</td></tr>
<tr class="memdesc:a0601b0c0a2471fd7b6cfa217cc6c1eb7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate a new UDP control block.  <br /></td></tr>
<tr class="separator:a0601b0c0a2471fd7b6cfa217cc6c1eb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7fbda8b12b9b9360e92b51e805e799e" id="r_ac7fbda8b12b9b9360e92b51e805e799e"><td class="memItemLeft" align="right" valign="top">err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac7fbda8b12b9b9360e92b51e805e799e">udp_bind</a> (struct udp_pcb *pcb, const ip_addr_t *ipaddr, u16_t port)</td></tr>
<tr class="memdesc:ac7fbda8b12b9b9360e92b51e805e799e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bind the UDP server to an IP address and port number.  <br /></td></tr>
<tr class="separator:ac7fbda8b12b9b9360e92b51e805e799e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71dfe2356d04614afd6f2dba9a3bf507" id="r_a71dfe2356d04614afd6f2dba9a3bf507"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a71dfe2356d04614afd6f2dba9a3bf507">udp_recv</a> (struct udp_pcb *pcb, void *arg, void *p)</td></tr>
<tr class="memdesc:a71dfe2356d04614afd6f2dba9a3bf507"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive a UDP packet.  <br /></td></tr>
<tr class="separator:a71dfe2356d04614afd6f2dba9a3bf507"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3aed8e469f74f960837ebf9f34acf646" id="r_a3aed8e469f74f960837ebf9f34acf646"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3aed8e469f74f960837ebf9f34acf646">udp_remove</a> (struct udp_pcb *pcb)</td></tr>
<tr class="memdesc:a3aed8e469f74f960837ebf9f34acf646"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove the UDP server.  <br /></td></tr>
<tr class="separator:a3aed8e469f74f960837ebf9f34acf646"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93590a7a9c80e6382d9bf9371d1294ed" id="r_a93590a7a9c80e6382d9bf9371d1294ed"><td class="memItemLeft" align="right" valign="top">err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a93590a7a9c80e6382d9bf9371d1294ed">udp_sendto</a> (struct udp_pcb *pcb, struct pbuf *p, const ip_addr_t *ipaddr, u16_t port)</td></tr>
<tr class="memdesc:a93590a7a9c80e6382d9bf9371d1294ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a UDP packet to a specific IP address and port.  <br /></td></tr>
<tr class="separator:a93590a7a9c80e6382d9bf9371d1294ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c6eaf6439bf1d7d9f5a0e3415358542" id="r_a6c6eaf6439bf1d7d9f5a0e3415358542"><td class="memItemLeft" align="right" valign="top">err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6c6eaf6439bf1d7d9f5a0e3415358542">send_packet</a> (struct udp_pcb *pcb, const void *payload, u16_t payload_len, const ip_addr_t *ipaddr, u16_t port)</td></tr>
<tr class="memdesc:a6c6eaf6439bf1d7d9f5a0e3415358542"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a packet with specified payload and destination.  <br /></td></tr>
<tr class="separator:a6c6eaf6439bf1d7d9f5a0e3415358542"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ab7c63c1b0f65db92b6a4ea19edf957e1" id="r_ab7c63c1b0f65db92b6a4ea19edf957e1"><td class="memItemLeft" align="right" valign="top"><a id="ab7c63c1b0f65db92b6a4ea19edf957e1" name="ab7c63c1b0f65db92b6a4ea19edf957e1"></a>
UART_HandleTypeDef&#160;</td><td class="memItemRight" valign="bottom"><b>huart3</b></td></tr>
<tr class="memdesc:ab7c63c1b0f65db92b6a4ea19edf957e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Debug UART handle. <br /></td></tr>
<tr class="separator:ab7c63c1b0f65db92b6a4ea19edf957e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa148563658a4078c414ffa2f2422556d" id="r_aa148563658a4078c414ffa2f2422556d"><td class="memItemLeft" align="right" valign="top"><a id="aa148563658a4078c414ffa2f2422556d" name="aa148563658a4078c414ffa2f2422556d"></a>
struct netif&#160;</td><td class="memItemRight" valign="bottom"><b>gnetif</b></td></tr>
<tr class="memdesc:aa148563658a4078c414ffa2f2422556d"><td class="mdescLeft">&#160;</td><td class="mdescRight">lwIP network interface for the RTG system. <br /></td></tr>
<tr class="separator:aa148563658a4078c414ffa2f2422556d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c767eb1a18fa886d414c9913d68ee8f" id="r_a2c767eb1a18fa886d414c9913d68ee8f"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2c767eb1a18fa886d414c9913d68ee8f">callback_flag</a></td></tr>
<tr class="memdesc:a2c767eb1a18fa886d414c9913d68ee8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback flag indicating if a command has been received.  <br /></td></tr>
<tr class="separator:a2c767eb1a18fa886d414c9913d68ee8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3dbd39d5feccd1fe604426be9ab5a51" id="r_ab3dbd39d5feccd1fe604426be9ab5a51"><td class="memItemLeft" align="right" valign="top"><a id="ab3dbd39d5feccd1fe604426be9ab5a51" name="ab3dbd39d5feccd1fe604426be9ab5a51"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>incoming_buffer</b> [<a class="el" href="#aaccf16bc2fc3e3fc0a1e4a0a55219295">MAX_BUF_LEN</a>]</td></tr>
<tr class="memdesc:ab3dbd39d5feccd1fe604426be9ab5a51"><td class="mdescLeft">&#160;</td><td class="mdescRight">Buffer for storing incoming UDP packets. <br /></td></tr>
<tr class="separator:ab3dbd39d5feccd1fe604426be9ab5a51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc09b1c00e34470313d20fadc5d0dee2" id="r_acc09b1c00e34470313d20fadc5d0dee2"><td class="memItemLeft" align="right" valign="top">struct udp_pcb *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acc09b1c00e34470313d20fadc5d0dee2">upcb</a></td></tr>
<tr class="memdesc:acc09b1c00e34470313d20fadc5d0dee2"><td class="mdescLeft">&#160;</td><td class="mdescRight">UDP protocol control block for managing communication.  <br /></td></tr>
<tr class="separator:acc09b1c00e34470313d20fadc5d0dee2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f0067a111f3a4036712e95767a8a3d3" id="r_a8f0067a111f3a4036712e95767a8a3d3"><td class="memItemLeft" align="right" valign="top">ip_addr_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8f0067a111f3a4036712e95767a8a3d3">dest_ipaddr</a></td></tr>
<tr class="memdesc:a8f0067a111f3a4036712e95767a8a3d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destination IP address for UDP packets.  <br /></td></tr>
<tr class="separator:a8f0067a111f3a4036712e95767a8a3d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99ae66ec89b56509e271be17d49a80f3" id="r_a99ae66ec89b56509e271be17d49a80f3"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a99ae66ec89b56509e271be17d49a80f3">dest_port</a></td></tr>
<tr class="memdesc:a99ae66ec89b56509e271be17d49a80f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destination port number for UDP packets.  <br /></td></tr>
<tr class="separator:a99ae66ec89b56509e271be17d49a80f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb131e445dc31779745d546bcd8690d7" id="r_abb131e445dc31779745d546bcd8690d7"><td class="memItemLeft" align="right" valign="top"><a id="abb131e445dc31779745d546bcd8690d7" name="abb131e445dc31779745d546bcd8690d7"></a>
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><b>incoming_len</b></td></tr>
<tr class="memdesc:abb131e445dc31779745d546bcd8690d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Length of the incoming UDP packet buffer. <br /></td></tr>
<tr class="separator:abb131e445dc31779745d546bcd8690d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Header file for the Real-Time Gateway (RTG) system. </p>
<p>This file defines constants, variables, and function prototypes for the Real-Time Gateway system. It includes UDP server communication, debugging via UART, and lwIP network configuration.</p>
<p>The RTG system is designed for hardware testing and communication over a UDP server. It handles incoming commands, executes tests on various peripherals, and sends results back to the client.</p>
<dl class="section note"><dt>Note</dt><dd>Ensure that the lwIP stack and network interfaces are properly initialized before calling any RTG-related functions.</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Haim </dd></dl>
<dl class="section date"><dt>Date</dt><dd>Dec 3, 2024 </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ab4669ce3240dc839b04fd805358ee0fa" name="ab4669ce3240dc839b04fd805358ee0fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4669ce3240dc839b04fd805358ee0fa">&#9670;&#160;</a></span>UART_DEBUG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UART_DEBUG&#160;&#160;&#160;&amp;<a class="el" href="_i2_c__test_8h.html#ab7c63c1b0f65db92b6a4ea19edf957e1">huart3</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Macro for accessing the debug UART. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="aed08e9a62dc6fb42b350f341dd322e11" name="aed08e9a62dc6fb42b350f341dd322e11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed08e9a62dc6fb42b350f341dd322e11">&#9670;&#160;</a></span>rtg_main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rtg_main </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Main function for the RTG program. </p>
<p>This function initializes the UDP server, processes incoming commands, and handles real-time gateway operations.</p>
<p>Main function for the RTG program.</p>
<p>This function initializes the UDP server, processes incoming packets, and handles real-time communication and testing commands. It operates in a continuous loop, managing network traffic and executing tests as commands are received.</p>
<ul>
<li>IP Configuration:<ul>
<li>IP: 192.168.7.2</li>
<li>NETMASK: 255.255.255.0 (or 192.168.7.0/24)</li>
<li>GATEWAY: 192.168.7.1 (not in use but required by IDE)</li>
</ul>
</li>
<li>Server Port: 50007 </li>
</ul>
<p>Prints a message indicating that the UDP server is running.</p>
<p>Initializes the UDP server and sets up the protocol control block.</p>
<p>Continuous loop for processing network traffic and handling tests.</p>
<p>The loop listens for incoming UDP packets, processes them, and handles timeout events for the system.</p>
<p>Processes incoming packets and passes them to the network interface.</p>
<p>Checks for system timeouts and processes timeout events.</p>
<p>Checks if a callback event has occurred.</p>
<p>If the <code>callback_flag</code> is set, a testing command has been received, and the system processes the command.</p>
<p>Resets the callback flag after processing the command.</p>

</div>
</div>
<a id="a6c6eaf6439bf1d7d9f5a0e3415358542" name="a6c6eaf6439bf1d7d9f5a0e3415358542"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c6eaf6439bf1d7d9f5a0e3415358542">&#9670;&#160;</a></span>send_packet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">err_t send_packet </td>
          <td>(</td>
          <td class="paramtype">struct udp_pcb *</td>          <td class="paramname"><span class="paramname"><em>pcb</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *</td>          <td class="paramname"><span class="paramname"><em>payload</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u16_t</td>          <td class="paramname"><span class="paramname"><em>payload_len</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const ip_addr_t *</td>          <td class="paramname"><span class="paramname"><em>ipaddr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u16_t</td>          <td class="paramname"><span class="paramname"><em>port</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a packet with specified payload and destination. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pcb</td><td>Pointer to the UDP control block. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">payload</td><td>Pointer to the payload data. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">payload_len</td><td>Length of the payload data. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ipaddr</td><td>Pointer to the destination IP address. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">port</td><td>Destination port number. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>err_t Returns ERR_OK on success, or an error code on failure.</dd></dl>
<p>Send a packet with specified payload and destination.</p>
<p>This function sends a UDP packet containing the specified payload to the given IP address and port.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pcb</td><td>Pointer to the UDP control block. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">payload</td><td>Pointer to the data to send. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">payload_len</td><td>Length of the payload data. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ipaddr</td><td>Pointer to the destination IP address. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">port</td><td>Destination port number. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>err_t Returns ERR_OK on success, or an error code on failure. </dd></dl>

</div>
</div>
<a id="ac7fbda8b12b9b9360e92b51e805e799e" name="ac7fbda8b12b9b9360e92b51e805e799e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7fbda8b12b9b9360e92b51e805e799e">&#9670;&#160;</a></span>udp_bind()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">err_t udp_bind </td>
          <td>(</td>
          <td class="paramtype">struct udp_pcb *</td>          <td class="paramname"><span class="paramname"><em>pcb</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const ip_addr_t *</td>          <td class="paramname"><span class="paramname"><em>ipaddr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u16_t</td>          <td class="paramname"><span class="paramname"><em>port</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Bind the UDP server to an IP address and port number. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pcb</td><td>Pointer to the UDP control block. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ipaddr</td><td>Pointer to the IP address to bind to. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">port</td><td>Port number to bind to. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>err_t Returns ERR_OK on success, or an error code on failure. </dd></dl>

</div>
</div>
<a id="a83625967670477aa254643129a53971b" name="a83625967670477aa254643129a53971b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83625967670477aa254643129a53971b">&#9670;&#160;</a></span>udp_connect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">err_t udp_connect </td>
          <td>(</td>
          <td class="paramtype">struct udp_pcb *</td>          <td class="paramname"><span class="paramname"><em>pcb</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const ip_addr_t *</td>          <td class="paramname"><span class="paramname"><em>ipaddr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u16_t</td>          <td class="paramname"><span class="paramname"><em>port</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Connect to a remote host via UDP. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pcb</td><td>Pointer to the UDP control block. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ipaddr</td><td>Pointer to the remote host's IP address. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">port</td><td>Port number of the remote host. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>err_t Returns ERR_OK on success, or an error code on failure. </dd></dl>

</div>
</div>
<a id="a8d26559743e59e4b409c92a268ee67fc" name="a8d26559743e59e4b409c92a268ee67fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d26559743e59e4b409c92a268ee67fc">&#9670;&#160;</a></span>udp_disconnect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void udp_disconnect </td>
          <td>(</td>
          <td class="paramtype">struct udp_pcb *</td>          <td class="paramname"><span class="paramname"><em>pcb</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disconnect the UDP server. </p>
<p>This function removes the UDP server and frees associated resources.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pcb</td><td>Pointer to the UDP control block to disconnect. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0601b0c0a2471fd7b6cfa217cc6c1eb7" name="a0601b0c0a2471fd7b6cfa217cc6c1eb7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0601b0c0a2471fd7b6cfa217cc6c1eb7">&#9670;&#160;</a></span>udp_new()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct udp_pcb * udp_new </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate a new UDP control block. </p>
<dl class="section return"><dt>Returns</dt><dd>struct udp_pcb* Pointer to the newly allocated UDP control block. </dd></dl>

</div>
</div>
<a id="a71dfe2356d04614afd6f2dba9a3bf507" name="a71dfe2356d04614afd6f2dba9a3bf507"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71dfe2356d04614afd6f2dba9a3bf507">&#9670;&#160;</a></span>udp_recv()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void udp_recv </td>
          <td>(</td>
          <td class="paramtype">struct udp_pcb *</td>          <td class="paramname"><span class="paramname"><em>pcb</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>arg</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>p</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receive a UDP packet. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pcb</td><td>Pointer to the UDP control block. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">arg</td><td>Pointer to user-defined arguments (unused). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">p</td><td>Pointer to the received pbuf. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3aed8e469f74f960837ebf9f34acf646" name="a3aed8e469f74f960837ebf9f34acf646"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3aed8e469f74f960837ebf9f34acf646">&#9670;&#160;</a></span>udp_remove()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void udp_remove </td>
          <td>(</td>
          <td class="paramtype">struct udp_pcb *</td>          <td class="paramname"><span class="paramname"><em>pcb</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove the UDP server. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pcb</td><td>Pointer to the UDP control block to remove. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa4546c43981f043c0ae4514d625cc3fc" name="aa4546c43981f043c0ae4514d625cc3fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4546c43981f043c0ae4514d625cc3fc">&#9670;&#160;</a></span>udp_send()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">err_t udp_send </td>
          <td>(</td>
          <td class="paramtype">struct udp_pcb *</td>          <td class="paramname"><span class="paramname"><em>pcb</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct pbuf *</td>          <td class="paramname"><span class="paramname"><em>p</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a UDP packet. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pcb</td><td>Pointer to the UDP control block. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">p</td><td>Pointer to the pbuf containing the data to send. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>err_t Returns ERR_OK on success, or an error code on failure. </dd></dl>

</div>
</div>
<a id="a93590a7a9c80e6382d9bf9371d1294ed" name="a93590a7a9c80e6382d9bf9371d1294ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93590a7a9c80e6382d9bf9371d1294ed">&#9670;&#160;</a></span>udp_sendto()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">err_t udp_sendto </td>
          <td>(</td>
          <td class="paramtype">struct udp_pcb *</td>          <td class="paramname"><span class="paramname"><em>pcb</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct pbuf *</td>          <td class="paramname"><span class="paramname"><em>p</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const ip_addr_t *</td>          <td class="paramname"><span class="paramname"><em>ipaddr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u16_t</td>          <td class="paramname"><span class="paramname"><em>port</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a UDP packet to a specific IP address and port. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pcb</td><td>Pointer to the UDP control block. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">p</td><td>Pointer to the pbuf containing the data to send. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ipaddr</td><td>Pointer to the destination IP address. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">port</td><td>Destination port number. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>err_t Returns ERR_OK on success, or an error code on failure. </dd></dl>

</div>
</div>
<a id="a78047c519037c4c6091c71e1801519c7" name="a78047c519037c4c6091c71e1801519c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78047c519037c4c6091c71e1801519c7">&#9670;&#160;</a></span>udpServer_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void udpServer_init </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the UDP server. </p>
<p>This function sets up the UDP server by creating a control block, binding it to a port, and setting a receive callback.</p>
<p>This function creates a UDP control block, binds it to the server port, and sets a receive callback for handling incoming test commands. </p>
<p>&lt; Pointer to the UDP control block.</p>
<p>&lt; Bind the UDP server to SERVER_PORT.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a2c767eb1a18fa886d414c9913d68ee8f" name="a2c767eb1a18fa886d414c9913d68ee8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c767eb1a18fa886d414c9913d68ee8f">&#9670;&#160;</a></span>callback_flag</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t callback_flag</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Callback flag indicating if a command has been received. </p>
<p>Callback flag indicating if a command has been received.</p>
<p>When set to 1, a testing command has been received. </p>

</div>
</div>
<a id="a8f0067a111f3a4036712e95767a8a3d3" name="a8f0067a111f3a4036712e95767a8a3d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f0067a111f3a4036712e95767a8a3d3">&#9670;&#160;</a></span>dest_ipaddr</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ip_addr_t dest_ipaddr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destination IP address for UDP packets. </p>
<p>Destination IP address for UDP packets.</p>
<p>Holds the IP address of the remote client for UDP communication. </p>

</div>
</div>
<a id="a99ae66ec89b56509e271be17d49a80f3" name="a99ae66ec89b56509e271be17d49a80f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99ae66ec89b56509e271be17d49a80f3">&#9670;&#160;</a></span>dest_port</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t dest_port</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destination port number for UDP packets. </p>
<p>Destination port number for UDP packets.</p>
<p>This specifies the port number of the remote client. </p>

</div>
</div>
<a id="acc09b1c00e34470313d20fadc5d0dee2" name="acc09b1c00e34470313d20fadc5d0dee2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc09b1c00e34470313d20fadc5d0dee2">&#9670;&#160;</a></span>upcb</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct udp_pcb* upcb</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>UDP protocol control block for managing communication. </p>
<p>UDP protocol control block for managing communication.</p>
<p>Represents the UDP connection state. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
